# Armony

<div align="center">
<svg viewBox="0 0 786 169" fill="none" xmlns="http://www.w3.org/2000/svg"
style="width: 200px; height: auto; margin-bottom: 20px;"
><title>Armony Logo</title><path d="M236 84.2798C236 104.714 219.435 121.28 199 121.28C178.565 121.28 162 104.714 162 84.2798C162 63.8452 178.565 47.2798 199 47.2798C219.435 47.2798 236 63.8452 236 84.2798Z" fill="currentColor"></path><path d="M74.4178 2.41785C78.0531 -0.972064 83.7481 -0.77319 87.138 2.86205L132.915 51.9519C135.119 54.3153 133.752 58.3591 130.812 59.6996C121.484 63.9523 115 73.3589 115 84.2798C115 95.3119 121.617 104.799 131.098 108.988C134.084 110.308 135.504 114.409 133.278 116.796L87.8548 165.507C84.4649 169.142 78.7699 169.341 75.1347 165.951L57.5822 149.583C53.9469 146.193 53.7481 140.498 57.138 136.863L80.3157 112.008C82.7005 109.451 80.887 105.28 77.3903 105.28H9C4.02943 105.28 0 101.25 0 96.2799V72.2799C0 67.3093 4.02944 63.2799 9 63.2799H76.8514C80.3481 63.2799 82.1615 59.1092 79.7768 56.5519L56.4211 31.506C53.0312 27.8707 53.2301 22.1757 56.8653 18.7858L74.4178 2.41785Z" fill="currentColor"></path><path d="M317.219 118.778C308.723 118.778 302.042 116.683 297.176 112.493C292.392 108.303 290 102.839 290 96.1021C290 88.9542 292.392 83.4495 297.176 79.588C302.042 75.6444 309.053 73.6725 318.208 73.6725H342.705V70.4683C342.705 59.7876 336.725 54.4472 324.766 54.4472C314.868 54.4472 308.888 58.1033 306.826 65.4155H291.485C292.804 57.939 296.392 52.1878 302.248 48.162C308.104 44.054 315.693 42 325.013 42C335.488 42 343.489 44.4237 349.015 49.2711C354.541 54.1185 357.304 61.1432 357.304 70.3451V101.771H364.727V117.423H348.52V105.961H343.324C340.767 109.905 337.261 113.027 332.807 115.327C328.436 117.628 323.24 118.778 317.219 118.778ZM319.322 106.701C323.693 106.701 327.652 105.838 331.199 104.113C334.746 102.387 337.55 100.087 339.612 97.2113C341.674 94.2535 342.705 90.9671 342.705 87.3521V84.5176H319.074C309.342 84.5176 304.475 88.1737 304.475 95.4859C304.475 98.9366 305.795 101.689 308.434 103.743C311.074 105.715 314.703 106.701 319.322 106.701Z" fill="currentColor"></path><path d="M373.363 117.423V59.1303H365.568V43.4789H381.652V57.4049H386.848C388.91 52.7218 392.086 49.1479 396.375 46.6831C400.746 44.1361 405.777 42.8627 411.469 42.8627V56.1272C404.293 56.1272 398.065 58.0211 394.271 62.2113C390.477 66.4014 388.58 72.0293 388.58 79.0951V117.423H373.363Z" fill="currentColor"></path><path d="M425.002 117.423V59.1303H417.208V43.4789H433.415V54.9401H439.23C441.457 50.8322 444.633 47.669 448.757 45.4507C452.881 43.2324 457.871 42.1232 463.727 42.1232C469.583 42.1232 474.573 43.2735 478.697 45.5739C482.821 47.7923 486.12 51.2019 488.595 55.8028H489.09C494.368 46.6831 502.864 42.1232 514.576 42.1232C523.814 42.1232 531.031 44.7934 536.227 50.1338C541.506 55.392 544.145 62.6631 544.145 71.9472V117.423H528.804V74.412C528.804 61.8415 522.701 55.5563 510.493 55.5563C498.369 55.5563 492.306 61.8415 492.306 74.412V117.423H476.965V74.412C476.965 61.8415 470.82 55.5563 458.531 55.5563C452.592 55.5563 448.056 57.1584 444.921 60.3627C441.87 63.5669 440.344 68.25 440.344 74.412V117.423H425.002Z" fill="currentColor"></path><path d="M588.138 118.901C580.385 118.901 573.621 117.34 567.848 114.218C562.074 111.014 557.579 106.536 554.362 100.785C551.228 95.034 549.661 88.2559 549.661 80.4507C549.661 72.6455 551.228 65.8674 554.362 60.1162C557.496 54.365 561.95 49.9284 567.724 46.8063C573.58 43.6021 580.426 42 588.262 42C596.18 42 602.984 43.561 608.675 46.6831C614.367 49.8052 618.779 54.2418 621.914 59.993C625.048 65.7441 626.615 72.5634 626.615 80.4507C626.615 88.2559 625.048 95.0751 621.914 100.908C618.779 106.66 614.325 111.096 608.552 114.218C602.861 117.34 596.056 118.901 588.138 118.901ZM588.138 105.592C595.479 105.592 601.17 103.373 605.211 98.9366C609.253 94.5 611.274 88.338 611.274 80.4507C611.274 72.4812 609.253 66.3192 605.211 61.9648C601.17 57.5282 595.479 55.3099 588.138 55.3099C580.88 55.3099 575.188 57.5282 571.064 61.9648C567.023 66.4014 565.002 72.5634 565.002 80.4507C565.002 88.338 567.023 94.5 571.064 98.9366C575.188 103.373 580.88 105.592 588.138 105.592Z" fill="currentColor"></path><path d="M636.408 117.423V59.1303H628.614V43.4789H644.821V54.9401H650.017C652.657 50.8322 656.162 47.669 660.534 45.4507C664.988 43.2324 670.266 42.1232 676.37 42.1232C686.103 42.1232 693.732 44.8756 699.258 50.3803C704.867 55.885 707.671 63.2383 707.671 72.4401V117.423H692.33V75.0282C692.33 68.7019 690.598 63.8955 687.134 60.6091C683.752 57.2406 678.721 55.5563 672.04 55.5563C665.524 55.5563 660.492 57.2406 656.946 60.6091C653.482 63.8955 651.75 68.7019 651.75 75.0282V117.423H636.408Z" fill="currentColor"></path><path d="M714.489 147V134.799H732.058L739.357 117.423L706.324 43.4789H722.284L746.781 99.4296H747.275L770.659 43.4789H786L747.152 134.183C745.42 138.127 743.605 141.249 741.708 143.549C739.893 145.85 736.759 147 732.305 147H714.489Z" fill="currentColor"></path></svg>
</div>
  <p>Access the latest AI technologies instantly. Whether you're generating images or harnessing advanced reasoning, remove workflow friction and boost productivity every time.</p>

---

## âœ¨ Features

- **AI-Powered Content Generation**: Leverage various AI models for text and image generation.
- **Seamless User Experience**: A modern, smooth, and intuitive interface built with the user in mind.
- **Monorepo Architecture**: A robust and scalable monorepo using Turborepo and pnpm workspaces.
- **Extensible and Modular**: The project is divided into packages and apps, making it easy to extend and maintain.
- **Cross-Platform**: A web app and a native desktop app (coming soon).
- **Subscription-Based**: Monetization ready with Stripe integration.
- **Real-time Capabilities**: Built with Supabase for real-time features.

## ğŸš€ Tech Stack

This project is a monorepo using `pnpm` workspaces.

- **Framework**: [Next.js](https://nextjs.org/)
- **Styling**: [Tailwind CSS](https://tailwindcss.com/) & [shadcn/ui](https://ui.shadcn.com/)
- **Backend**: [Supabase](https://supabase.io/)
- **Payments**: [Stripe](https://stripe.com/)
- **AI**: [OpenAI SDK](https://sdk.openai.com/), [Vercel AI SDK](https://sdk.vercel.ai/)
- **Deployment**: [Vercel](https://vercel.com/)
- **Desktop App**: [Tauri](https://tauri.app/) (work in progress)
- **Package Manager**: [pnpm](https://pnpm.io/)
- **Build System**: [Turborepo](https://turbo.build/)
- **Task Runner**: [Just](https://just.systems/)

## ğŸ Getting Started

### Prerequisites

Make sure you have the following installed on your system:

- [Node.js](https://nodejs.org/en/) (v20 or higher)
- [pnpm](https://pnpm.io/installation) (preferred package manager)
- [Git](https://git-scm.com/)
- A [Supabase](https://supabase.com/) account and project
- A [Stripe](https://stripe.com/) account
- (Optional) [Just](https://just.systems/) task runner for easier command execution

### 1. Clone the repository

```bash
git clone https://github.com/damienschneider/armony.git
cd armony
```

### 2. Install dependencies

```bash
pnpm install
```

### 3. Set up environment variables

Create a `.env.local` file in the `apps/web` directory by copying the example file:

```bash
cp apps/web/.env.example apps/web/.env.local
```

You will need to add the following environment variables to the `.env.local` file:

- `NEXT_PUBLIC_SUPABASE_URL`: Your Supabase project URL.
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`: Your Supabase project anon key.
- `STRIPE_SECRET_KEY`: Your Stripe secret key.
- `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY`: Your Stripe publishable key.
- `OPENAI_API_KEY`: Your OpenAI API key.
- `POSTHOG_API_KEY`: Your PostHog API key for analytics (optional).

### 4. Set up Supabase

You can either use a cloud Supabase project or set up Supabase locally for development.

#### Option A: Using Cloud Supabase (Recommended for beginners)

1.  Link your local repository to your Supabase project:
    ```bash
    pnpm dlx supabase link --project-ref <your-project-id>
    ```
2.  Push the database migrations:
    ```bash
    pnpm dlx supabase db push
    ```

#### Option B: Local Supabase Development Setup

For local development, you can run Supabase locally using Docker. This is useful for development and testing without affecting your production database.

**Prerequisites for Local Setup:**
- [Docker Desktop](https://www.docker.com/products/docker-desktop/) installed and running
- [Supabase CLI](https://supabase.com/docs/guides/cli/getting-started) installed

**Installation Steps:**

1.  **Install Docker Desktop:**
    - Download and install from [docker.com](https://www.docker.com/products/docker-desktop/)
    - Make sure Docker is running (you should see the Docker icon in your system tray)

2.  **Install Supabase CLI:**
    ```bash
    # macOS (using Homebrew)
    brew install supabase/tap/supabase
    
    # Windows (using Scoop)
    scoop bucket add supabase https://github.com/supabase/scoop-bucket.git
    scoop install supabase
    
    # Or using npm
    npm install -g @supabase/cli
    ```

3.  **Start Supabase locally:**
    ```bash
    # Navigate to the supabase app directory
    cd apps/supabase
    
    # Start the local Supabase stack
    pnpm dlx supabase start
    ```

4.  **Update your environment variables:**
    When running locally, update your `apps/web/.env.local` with the local Supabase URLs:
    ```env
    NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
    NEXT_PUBLIC_SUPABASE_ANON_KEY=<anon-key-from-supabase-start-output>
    ```

5.  **Access local services:**
    - **Studio UI**: http://localhost:54323
    - **Database**: http://localhost:54321
    - **Rest API**: http://localhost:54321/rest/v1/

**Useful Local Development Commands:**
```bash
# Stop the local Supabase stack
pnpm dlx supabase stop

# Reset the local database
pnpm dlx supabase db reset

# View local service status
pnpm dlx supabase status
```

**ğŸ“š Documentation:**
- [Supabase Local Development Guide](https://supabase.com/docs/guides/cli/local-development)
- [Supabase CLI Reference](https://supabase.com/docs/reference/cli/introduction)
- [Docker Installation Guide](https://docs.docker.com/get-docker/)

### 5. Run the development server

```bash
pnpm dev
```

The application will be available at `http://localhost:3000`.

### 6. Verify the setup

Once the development server is running, you should be able to:
- Access the web application at `http://localhost:3000`
- Sign up or sign in to create an account
- Start using the AI-powered features

## ğŸ› ï¸ Build Instructions

### Production Build

To create a production build:

```bash
# Build all applications and packages
pnpm build

# Or use just for convenience
just build
```

### Development Commands

```bash
# Start development servers for all apps
pnpm dev

# Run linting
pnpm lint

# Clean all build artifacts and node_modules
just clean-all

# Install dependencies
pnpm install
```

## ğŸ”§ Troubleshooting

### Common Issues

1. **Port already in use**: If port 3000 is occupied, the development server will automatically use the next available port.

2. **Environment variables missing**: Make sure all required environment variables are set in `apps/web/.env.local`.

3. **Supabase connection issues**: Verify your Supabase URL and anon key are correct and your project is active.

4. **pnpm installation fails**: Try clearing the pnpm cache:
   ```bash
   pnpm store prune
   pnpm install
   ```

5. **Build errors**: Run `just clean-all` to remove all build artifacts and reinstall dependencies.

## ğŸ“‚ Project Structure

The monorepo is structured as follows:

```
.
â”œâ”€â”€ apps
â”‚   â”œâ”€â”€ native/      # Tauri desktop application
â”‚   â”œâ”€â”€ stripe/      # Stripe related services
â”‚   â”œâ”€â”€ supabase/    # Supabase migrations and configuration
â”‚   â””â”€â”€ web/         # Next.js web application
â”œâ”€â”€ packages
â”‚   â”œâ”€â”€ eslint-config/ # Shared ESLint configuration
â”‚   â”œâ”€â”€ supabase/      # Supabase client package
â”‚   â”œâ”€â”€ typescript-config/ # Shared TypeScript configuration
â”‚   â””â”€â”€ ui/            # Shared UI components (using shadcn/ui)
...
```

## ğŸ¤– Available Commands

This project uses `just` as a command runner. Here are some of the most common commands:

- `just`: List all available commands.
- `just build`: Build all apps and packages.
- `just dev`: Run all apps in development mode.
- `just lint`: Lint all apps and packages.
- `just clean-all`: Remove all `node_modules`, `dist`, `.next`, etc.

For a full list of commands, see the `justfile` at the root of the project.

## ğŸ—ºï¸ Roadmap

- [ ] Add a podcast generation feature.
- [ ] Improve handling of image inputs and model capabilities.
- [ ] Implement automatic memory management and chat saving.
- [ ] Optimize re-rendering with Zustand or finer-grained context.

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a pull request.

1.  Fork the repository.
2.  Create your feature branch (`git checkout -b feature/AmazingFeature`).
3.  Commit your changes (`git commit -m 'Add some AmazingFeature'`).
4.  Push to the branch (`git push origin feature/AmazingFeature`).
5.  Open a pull request.

## ğŸ“‹ License Requirements

This repository includes one of the following permissive open-source licenses:
- **MIT License** (currently used)
- Apache 2.0 License
- BSD 2- or 3-Clause License

**Note**: No "copyleft" or proprietary licenses are allowed.

## ğŸ“œ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
